//Fernando Toledo - UQI - 4/11/2019 - Programa de base de datos de la disquera (v2.0)

#include <iostream>
#include <string.h>
#include <conio.h>
#include <windows.h>
#include <locale.h>

using namespace std;

struct discoteca
{
	int codigo;
	char album[20];
	char art[20];
	float precio;
	char disq[20];
} cd[20];

int posicionC=0;

void gotoxy(int columna, int renglon)
{
	HANDLE hConsoleOutput;
	COORD coord;
	hConsoleOutput=GetStdHandle(STD_OUTPUT_HANDLE);
	coord.X=columna;coord.Y=renglon;
	SetConsoleCursorPosition(hConsoleOutput,coord);
}

void datos()
{
	posicionC++;
	cd[posicionC].codigo=posicionC; 
	cout << "\n-> Ingrese el codigo: " << cd[posicionC].codigo << endl;
	cout << "\n-> Ingrese el nombre del album: "; cin.getline(cd[posicionC].album,20); cin.getline(cd[posicionC].album,20);
	cout << "\n-> Ingrese el nombre del artista: "; cin.getline(cd[posicionC].art,20); 
	cout << "\n-> Ingrese el precio del album: "; cin >> cd[posicionC].precio;
	cout <<	"\n-> Ingrese el nombre de la disquera: "; cin.getline(cd[posicionC].disq,30); cin.getline(cd[posicionC].disq,30);
	system("cls");
}

void consul()
{
	int opc;
	cout << "\nIngrese el tipo de consulta [1=Individual / 2=General]: "; cin >> opc;
	switch (opc)
	{
		case 1: int aux;
				cout << "\nIngrese el codigo del disco a consultar: "; cin >> aux;
				if (aux<=posicionC)
				{
					cout << "\n-> Codigo: " << cd[aux].codigo << endl;
					cout << "\n-> Album: " << cd[aux].album << endl;
					cout << "\n-> Artista: " << cd[aux].art << endl;
					cout << "\n-> Precio: " << cd[aux].precio << endl;
					cout << "\n-> Disquera: " << cd[aux].disq << endl;
					system("pause>nul");
				}
				else 
				{
					cout << "\nDisco no encontrado...";
				}
				break;
		case 2: for (int x=1; x<=posicionC; x++)
				{
					system ("cls");
					cout << "\n-> Codigo: " << cd[x].codigo << endl;
					cout << "\n-> Album: " << cd[x].album << endl;
					cout << "\n-> Artista: " << cd[x].art << endl;
					cout << "\n-> Precio: " << cd[x].precio << endl;
					cout << "\n-> Disquera: " << cd[x].disq << endl;
					cout << endl;
					system ("pause>nul");
					gotoxy (1,x+6);
				} break;
	}
	system("cls");
}

void modi()
{
	char pass[10];
	int correcto;
	int intento;
	char contrasena[]="password"; 
	int opModi;
    intento=1;
    correcto=0;
    cout << "\nIntroduzca la contrasena: "; cin >> pass; cout << "\n";
    if (strcmp(pass,contrasena)==0) correcto=1;
    while ((correcto==0)&&(intento<3))
    {
        intento++;
        cout << "Contrasena incorrecta... " << "Introduzca la contrasena de nuevo: "; cin >> pass; cout << "\n";
        if (strcmp(pass,contrasena)==0) correcto=1;
    }
    if (correcto==0) cout << "\nSe han excedido el numero de intentos.";
    else
        {
            cout << "ContraseÃ±a aceptada...\n";
			int aux;
			cout << "\nIngrese el codigo del disco a modificar: "; cin >> aux;
			if (aux<=posicionC)
			{
				cout << "\n-> Precio: " << cd[aux].precio << endl;
				cout << "\n-> Ingrese el nuevo precio: "; cin >> cd[aux].precio;
				system("pause>nul");
			}
			else 
			{
				cout << "\nDisco no encontrado...";
			}
    	}
    system ("cls");
}

void ventas()
{
	int exis;
	int aux;
	cout << "\nIngrese el codigo del disco a vender: "; cin >> aux;
	if (aux<=posicionC)
	{
		cout << "\n-> Codigo: " << cd[aux].codigo << endl;
		cout << "\n-> Album: " << cd[aux].album << endl;
		cout << "\n-> Artista: " << cd[aux].art << endl;
		cout << "\n-> Precio: " << cd[aux].precio << endl;
		cout << "\n-> Disquera: " << cd[aux].disq << endl;
		system("pause>nul");
	}
	else 
	{
		cout << "\nDisco no encontrado...";
	}
	cout << "\nCuantos discos va a querer: "; cin >> exis;
	cout << "\nEl total sera $ " << exis*cd[aux].precio;
	cout << endl << endl;
	system ("pause");
	system("cls");
}

int main()
{
	setlocale(LC_CTYPE, "Spanish");
	system ("color f9");
	int op;
	do 
	{
		cout << "\nMenu: \n\n";
		cout << "-> Captura [1] \n";
		cout << "-> Consulta [2] \n";
		cout << "-> Modificacion [3] \n";
		cout << "-> Venta [4] \n";
		cout << "-> Salir [5] \n\n";
		cout << "Ingrese el apartado: "; cin >> op;
		switch (op)
		{
			case 1: datos(); break;
			case 2: consul(); break;
			case 3: modi(); break;
			case 4: ventas(); break;
		} 
	} while (op!=5);
	system ("pause>nul");
	return 0;
}

/*cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << "  " << "  " << "  " << "  " << "  " << "  " << "  " << "  " << "  " << "  " << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << "  " << z    << "  " << "  " << "  " << "  " << "  " << "  " << "  " << "  " << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << "  " << "  " << "  " << "  " << "  " << "  " << "  " << "  " << "  " << "  " << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;
			cout << "\t" << "#" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << " #" << endl;*/
